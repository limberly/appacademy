  [1m[35m (543.0ms)[0m  [1m[35mCREATE DATABASE "cats99_development" ENCODING = 'unicode'[0m
  [1m[35m (293.6ms)[0m  [1m[35mCREATE DATABASE "cats99_test" ENCODING = 'unicode'[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7809834472913233005)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCats (20210409143457)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "cats" ("id" bigserial primary key, "birth_date" date NOT NULL, "color" character varying NOT NULL, "name" character varying NOT NULL, "sex" character varying(1) NOT NULL, "description" text NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210409143457"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-04-09 15:10:40.855980"], ["updated_at", "2021-04-09 15:10:40.855980"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7809834472913233005)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Create (0.3ms)[0m  [1m[32mINSERT INTO "cats" ("birth_date", "color", "name", "sex", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["birth_date", "2011-05-16"], ["color", "black"], ["name", "Doodoo"], ["sex", "m"], ["description", "lovely kitty baby"], ["created_at", "2021-04-09 15:22:17.766213"], ["updated_at", "2021-04-09 15:22:17.766213"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Create (0.2ms)[0m  [1m[32mINSERT INTO "cats" ("birth_date", "color", "name", "sex", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["birth_date", "2011-05-16"], ["color", "yellow"], ["name", "Dooba"], ["sex", "f"], ["description", "another lovely kitty baby"], ["created_at", "2021-04-09 15:22:17.769858"], ["updated_at", "2021-04-09 15:22:17.769858"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
Started GET "/cats" for ::1 at 2021-04-10 00:22:57 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 9411)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 9480)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 4.3ms | Allocations: 13429)



ActionView::MissingTemplate - Missing partial cats/_cat with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/lim/Documents/appacademy/rails/views/99cats/cats99/app/views"
  * "/home/lim/.rbenv/versions/2.7.2/lib/ruby/gems/2.7.0/gems/actiontext-6.1.3.1/app/views"
  * "/home/lim/.rbenv/versions/2.7.2/lib/ruby/gems/2.7.0/gems/actionmailbox-6.1.3.1/app/views":
  app/views/cats/index.html.erb:14
  app/views/cats/index.html.erb:13
  app/controllers/cats_controller.rb:4:in `index'

Started POST "/__better_errors/682b695709922b17/variables" for ::1 at 2021-04-10 00:22:57 +0900
Started GET "/cats" for ::1 at 2021-04-10 00:25:21 +0900
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1063)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/lim/Documents/appacademy/rails/views/99cats/cats99/public/packs
[Webpacker] Hash: e332c6419728fac579d5
Version: webpack 4.46.0
Time: 1036ms
Built at: 04/10/2021 12:25:23 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-f826770d917d8a37c1d8.js    125 KiB  application  [emitted] [immutable]  application
js/application-f826770d917d8a37c1d8.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-f826770d917d8a37c1d8.js js/application-f826770d917d8a37c1d8.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 492 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

  Rendered layout layouts/application.html.erb (Duration: 1848.6ms | Allocations: 26977)
Completed 200 OK in 1851ms (Views: 1849.9ms | ActiveRecord: 0.6ms | Allocations: 28004)


Started GET "/cats" for ::1 at 2021-04-10 00:26:51 +0900
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1149)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 4916)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.6ms | Allocations: 5992)


Started GET "/cats/1" for ::1 at 2021-04-10 00:26:54 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 99)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 3611)
Completed 200 OK in 12ms (Views: 3.5ms | ActiveRecord: 1.0ms | Allocations: 8251)


  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" ORDER BY "cats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/cats" for ::1 at 2021-04-10 00:33:12 +0900
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 7582)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 11294)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 5.7ms | Allocations: 12823)


Started GET "/cats/1" for ::1 at 2021-04-10 00:33:13 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1769)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1850)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.9ms | Allocations: 3841)



ArgumentError - wrong number of arguments (given 0, expected 1):
  app/views/cats/show.html.erb:7
  app/views/cats/show.html.erb:5:in `each'
  app/views/cats/show.html.erb:5
  app/controllers/cats_controller.rb:10:in `show'

Started POST "/__better_errors/817ae52fe20a4a41/variables" for ::1 at 2021-04-10 00:33:13 +0900
Started GET "/cats/1" for ::1 at 2021-04-10 00:34:26 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 226)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 3977)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.5ms | Allocations: 5723)


Started GET "/cats/1" for ::1 at 2021-04-10 00:34:41 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 232)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3991)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.4ms | Allocations: 5743)


Started GET "/cats/1" for ::1 at 2021-04-10 00:39:02 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 368)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 4118)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.5ms | Allocations: 5873)


Started GET "/cats/1" for ::1 at 2021-04-10 00:39:25 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 4018)
Completed 200 OK in 25ms (Views: 17.8ms | ActiveRecord: 2.2ms | Allocations: 5765)


Started GET "/cats/1" for ::1 at 2021-04-10 00:40:01 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 4018)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.5ms | Allocations: 5766)


Started GET "/cats/1" for ::1 at 2021-04-10 00:40:31 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 4018)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.4ms | Allocations: 5766)


Started GET "/cats" for ::1 at 2021-04-10 23:49:01 +0900
  [1m[35m (6.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (3.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 18.3ms | Allocations: 5980)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 11284)
Completed 200 OK in 54ms (Views: 36.1ms | ActiveRecord: 9.4ms | Allocations: 14222)


Started GET "/cats/new" for ::1 at 2021-04-10 23:49:06 +0900
Processing by CatsController#new as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 1036)



ActionController::ParameterMissing - param is missing or the value is empty: cat
Did you mean?  action
               controller:
  app/controllers/cats_controller.rb:20:in `cat_params'
  app/controllers/cats_controller.rb:14:in `new'

Started POST "/__better_errors/dd994afb0ebf6768/variables" for ::1 at 2021-04-10 23:49:06 +0900
Started POST "/__better_errors/dd994afb0ebf6768/eval" for ::1 at 2021-04-10 23:49:17 +0900
Started POST "/__better_errors/dd994afb0ebf6768/eval" for ::1 at 2021-04-10 23:49:19 +0900
Started GET "/cats/new" for ::1 at 2021-04-10 23:50:16 +0900
Processing by CatsController#new as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1891)



NoMethodError - undefined method `permit' for nil:NilClass:
  app/controllers/cats_controller.rb:20:in `cat_params'
  app/controllers/cats_controller.rb:14:in `new'

Started POST "/__better_errors/47da90e7c2819f00/variables" for ::1 at 2021-04-10 23:50:16 +0900
Started GET "/cats/new" for ::1 at 2021-04-10 23:53:20 +0900
Processing by CatsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 149)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 3698)
Completed 200 OK in 11ms (Views: 3.2ms | ActiveRecord: 3.0ms | Allocations: 8647)


Started GET "/cats/new" for ::1 at 2021-04-10 23:53:56 +0900
Processing by CatsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (Duration: 0.1ms | Allocations: 40)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 3618)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 3986)


Started GET "/cats/new" for ::1 at 2021-04-10 23:54:17 +0900
Processing by CatsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (Duration: 0.1ms | Allocations: 41)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 3588)
Completed 200 OK in 10ms (Views: 2.9ms | ActiveRecord: 2.9ms | Allocations: 8377)


Started GET "/cats/new" for ::1 at 2021-04-10 23:55:45 +0900
Processing by CatsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 148)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 3868)
Completed 200 OK in 14ms (Views: 4.4ms | ActiveRecord: 2.8ms | Allocations: 9262)


Started GET "/cats/new" for ::1 at 2021-04-10 23:57:51 +0900
Processing by CatsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 161)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 3919)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 4988)


Started GET "/cats/new" for ::1 at 2021-04-10 23:57:56 +0900
Processing by CatsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (Duration: 0.1ms | Allocations: 40)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 3616)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 3979)


Started GET "/cats/new" for ::1 at 2021-04-10 23:58:52 +0900
Processing by CatsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 162)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 3912)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms | Allocations: 4980)


Started GET "/cats" for ::1 at 2021-04-11 22:39:58 +0900
  [1m[35m (10.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (2.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 5981)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 11285)
Completed 200 OK in 38ms (Views: 23.4ms | ActiveRecord: 6.0ms | Allocations: 14222)


Started GET "/cats/1" for ::1 at 2021-04-11 22:40:01 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (4.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 359)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 3953)
Completed 200 OK in 35ms (Views: 17.2ms | ActiveRecord: 6.9ms | Allocations: 6276)


Started GET "/cats/1/edit" for ::1 at 2021-04-11 22:40:07 +0900
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:19:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (Duration: 1.3ms | Allocations: 328)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 3910)
Completed 200 OK in 15ms (Views: 8.2ms | ActiveRecord: 2.0ms | Allocations: 5097)


Started GET "/cats/1" for ::1 at 2021-04-11 22:40:13 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 86)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 3662)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.7ms | Allocations: 4704)


Started GET "/cats/1" for ::1 at 2021-04-11 22:41:00 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.4ms | Allocations: 267)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 4019)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms | Allocations: 5786)


Started GET "/cats/1/edit" for ::1 at 2021-04-11 22:41:03 +0900
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:19:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 371)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 3958)
Completed 200 OK in 21ms (Views: 6.5ms | ActiveRecord: 1.0ms | Allocations: 5127)


Started GET "/cats/1" for ::1 at 2021-04-11 22:41:05 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 86)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 3662)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.6ms | Allocations: 4704)


Started GET "/cats/1/edit" for ::1 at 2021-04-11 22:41:11 +0900
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:19:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/edit.html.erb within layouts/application (Duration: 0.2ms | Allocations: 99)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 3677)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.5ms | Allocations: 4738)


Started GET "/cats/1/edit" for ::1 at 2021-04-11 22:50:02 +0900
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:19:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (Duration: 3.5ms | Allocations: 443)
  Rendered cats/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 753)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 4511)
Completed 200 OK in 67ms (Views: 21.5ms | ActiveRecord: 26.9ms | Allocations: 9393)


Started GET "/cats/new" for ::1 at 2021-04-11 22:50:11 +0900
Processing by CatsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/new.html.erb within layouts/application
  Rendered cats/_form.html.erb (Duration: 0.3ms | Allocations: 86)
  Rendered cats/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 262)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 3842)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 4340)


Started GET "/cats/1/edit" for ::1 at 2021-04-11 22:50:14 +0900
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:19:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (Duration: 0.1ms | Allocations: 104)
  Rendered cats/edit.html.erb within layouts/application (Duration: 0.3ms | Allocations: 199)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 3775)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.5ms | Allocations: 4817)


Started GET "/cats/1" for ::1 at 2021-04-11 22:50:15 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  Rendered cats/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 267)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 3846)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.7ms | Allocations: 5013)


Started GET "/cats/1/edit" for ::1 at 2021-04-11 22:56:47 +0900
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:19:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (Duration: 2.0ms | Allocations: 430)
  Rendered cats/edit.html.erb within layouts/application (Duration: 3.3ms | Allocations: 731)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 4481)
Completed 200 OK in 54ms (Views: 17.2ms | ActiveRecord: 20.1ms | Allocations: 9320)


Started GET "/cats/3/edit" for ::1 at 2021-04-11 22:56:55 +0900
Processing by CatsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCat Load (1.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:19:in `edit'
  Rendering layout layouts/application.html.erb
  Rendering cats/edit.html.erb within layouts/application
  Rendered cats/_form.html.erb (Duration: 11.8ms | Allocations: 5490)
  Rendered cats/edit.html.erb within layouts/application (Duration: 12.0ms | Allocations: 5587)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 5651)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 1.6ms | Allocations: 6668)



ActionController::UrlGenerationError - No route matches {:action=>"show", :controller=>"cats", :id=>nil}, missing required keys: [:id]:
  app/views/cats/_form.html.erb:6
  app/views/cats/edit.html.erb:3
  app/controllers/cats_controller.rb:20:in `edit'

Started POST "/__better_errors/9e727b996fc2f94d/variables" for ::1 at 2021-04-11 22:56:55 +0900
Started GET "/cats" for ::1 at 2021-04-11 22:57:04 +0900
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1135)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 4722)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 1.3ms | Allocations: 5196)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7809834472913233005)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCatRentalRequests (20210411135743)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (54.1ms)[0m  [1m[35mCREATE TABLE "cat_rental_requests" ("id" bigserial primary key, "cat_id" integer NOT NULL, "start_date" date NOT NULL, "end_date" date NOT NULL, "status" character varying DEFAULT 'PENDING' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_cat_rental_requests_on_cat_id" ON "cat_rental_requests" ("cat_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210411135743"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7809834472913233005)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (1.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", 0], ["end_date", 0], ["created_at", "2021-04-11 14:13:38.409084"], ["updated_at", "2021-04-11 14:13:38.409084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (0.4ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-05-10"], ["end_date", "2020-05-20"], ["created_at", "2021-04-11 14:14:32.533867"], ["updated_at", "2021-04-11 14:14:32.533867"]]
  [1m[36mTRANSACTION (16.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1[0m  [["cat_id", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Destroy (0.2ms)[0m  [1m[31mDELETE FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1[0m  [["cat_id", 1]]
  [1m[36mCatRentalRequest Load (2.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (1.3ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", 20], ["end_date", 18], ["created_at", "2021-04-12 05:55:21.791177"], ["updated_at", "2021-04-12 05:55:21.791177"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (2.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-05-20"], ["end_date", "2020-05-22"], ["created_at", "2021-04-12 05:55:33.631945"], ["updated_at", "2021-04-12 05:55:33.631945"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (0.8ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-05-21"], ["end_date", "2020-05-22"], ["created_at", "2021-04-12 05:55:45.591713"], ["updated_at", "2021-04-12 05:55:45.591713"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE (cat_id = 1, start_date <= '2020-05-20', end_date >= '2020-05-22')[0m
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE (cat_id = 1, start_date <= '2020-05-20', end_date >= '2020-05-22') /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCat Load (2.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE (cat_id = 1, start_date <= '2020-05-20', end_date >= '2020-05-22')[0m
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1, start_date <= '2020/5/21', end_date >= '2020/5/22')[0m
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1, start_date <= '2020/5/21', end_date >= '2020/5/22') /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mCatRentalRequest Load (2.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1, start_date <= '2020/5/21', end_date >= '2020/5/22')[0m
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1, start_date <= '2020/5/21', end_date >= '2020/5/22')[0m
  [1m[36mCatRentalRequest Load (2.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1, cat_rental_requests.start_date <= '2020/5/21', cat_rental_requests.end_date >= '2020/5/22')[0m
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (2.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1, cat_rental_requests.start_date <= '2020/5/21', cat_rental_requests.end_date >= '2020/5/22')[0m
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1)[0m
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1 and cat_rental_requests.start_date <= '2020/5/21' and cat_rental_requests.end_date >= '2020/5/22')[0m
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1 and start_date <= '2020-05-20' and end_date >= '2020-05-22')[0m
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20')[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20')[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20')[0m
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20' and status != 'APPROVED')[0m
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20' and status = 'APPROVED')[0m
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."statuas" = $1[0m  [["statuas", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."statuas" = $1 /* loading for inspect */ LIMIT $2[0m  [["statuas", "APPROVED"], ["LIMIT", 11]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."statuas" = $1[0m  [["statuas", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20')[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != NULL and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (0.4ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-05-22"], ["end_date", "2020-05-25"], ["created_at", "2021-04-12 06:25:57.807240"], ["updated_at", "2021-04-12 06:25:57.807240"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 06:26:41.066190"], ["id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 06:26:41.072149"], ["id", 3]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 06:26:41.074737"], ["id", 4]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 06:27:34.841519"], ["id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 06:27:34.851995"], ["id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 06:27:34.862022"], ["id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 06:27:49.217998"], ["id", 2]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != NULL and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (0.7ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-05-22"], ["end_date", "2020-05-25"], ["created_at", "2021-04-12 06:27:55.534154"], ["updated_at", "2021-04-12 06:27:55.534154"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 06:29:55.942038"], ["id", 5]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22')[0m
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1[0m  [["status", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 06:32:22.803656"], ["id", 5]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 06:32:32.638547"], ["id", 5]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 06:33:59.298408"], ["id", 5]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.3ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 06:34:09.316427"], ["id", 5]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 06:34:24.280919"], ["id", 5]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1[0m  [["status", "APPROVED"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (0.2ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-05-22"], ["end_date", "2020-05-30"], ["created_at", "2021-04-12 06:35:57.048254"], ["updated_at", "2021-04-12 06:35:57.048254"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Create (0.2ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 1], ["start_date", "2020-05-21"], ["end_date", "2020-05-22"], ["created_at", "2021-04-12 06:36:16.610357"], ["updated_at", "2021-04-12 06:36:16.610357"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1[0m  [["status", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1[0m  [["status", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1[0m  [["status", "APPROVED"]]
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Started GET "/cat_rental_requests/new" for ::1 at 2021-04-12 22:50:15 +0900
  [1m[35m (7.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 209)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | Allocations: 5516)
Completed 200 OK in 52ms (Views: 31.0ms | ActiveRecord: 5.5ms | Allocations: 13085)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-12 22:50:25 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 108)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 3860)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms | Allocations: 4930)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-12 22:55:53 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (3.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:6
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 21.6ms | Allocations: 8808)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 12461)
Completed 200 OK in 25ms (Views: 19.2ms | ActiveRecord: 6.0ms | Allocations: 13527)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-12 22:59:55 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1146)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 4896)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.5ms | Allocations: 5950)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-12 23:02:11 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 5468)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 9189)
Completed 200 OK in 19ms (Views: 9.0ms | ActiveRecord: 5.7ms | Allocations: 14288)


Started POST "/cat_rental_requests" for ::1 at 2021-04-12 23:02:20 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"1", "start_date"=>"2021-04-15", "end_date"=>"2021-04-23"}}
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 402)


  [1m[36mCat Load (0.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats" ORDER BY "cats"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (1.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
Started GET "/cats" for ::1 at 2021-04-12 23:10:36 +0900
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 22.1ms | Allocations: 4419)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 26.7ms | Allocations: 8129)
Completed 200 OK in 30ms (Views: 29.3ms | ActiveRecord: 12.5ms | Allocations: 9191)


Started GET "/cats/1" for ::1 at 2021-04-12 23:10:38 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (3.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 25.0ms | Allocations: 6262)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 32.3ms | Allocations: 9744)
Completed 200 OK in 56ms (Views: 32.9ms | ActiveRecord: 8.3ms | Allocations: 12145)


Started GET "/cats/1" for ::1 at 2021-04-12 23:11:04 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (4.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1374)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 5124)
Completed 200 OK in 23ms (Views: 13.4ms | ActiveRecord: 4.9ms | Allocations: 6872)


Started GET "/cats/1" for ::1 at 2021-04-12 23:40:29 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 7599)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 11258)
Completed 200 OK in 24ms (Views: 9.5ms | ActiveRecord: 6.2ms | Allocations: 20343)


Started GET "/cats/1" for ::1 at 2021-04-12 23:40:47 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1386)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 5136)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 1.1ms | Allocations: 6884)


Started GET "/cats/1" for ::1 at 2021-04-13 00:00:02 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 10138)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 10202)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 6.4ms | Allocations: 19234)



ActionController::UrlGenerationError - No route matches {:action=>"approve!", :controller=>"cat_rental_requests", :id=>"1"}, missing required keys: [:cat_rental_request_id]
Did you mean?  cat_rental_request_approve_path:
  app/views/cats/show.html.erb:33
  app/views/cats/show.html.erb:27
  app/controllers/cats_controller.rb:10:in `show'

Started POST "/__better_errors/5e161279a0ed0caa/variables" for ::1 at 2021-04-13 00:00:02 +0900
Started GET "/cats/1" for ::1 at 2021-04-13 00:02:03 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 18.6ms | Allocations: 13004)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 13068)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 7.4ms | Allocations: 19199)



NameError - undefined local variable or method `cat_rental_request_approve_url' for #<ActionView::Base:0x0000000000df48>
Did you mean?  cat_rental_request_url
               cat_rental_requests_url:
  app/views/cats/show.html.erb:33
  app/views/cats/show.html.erb:27
  app/controllers/cats_controller.rb:10:in `show'

Started POST "/__better_errors/47891941126273bc/variables" for ::1 at 2021-04-13 00:02:03 +0900
Started GET "/cats/1" for ::1 at 2021-04-13 00:02:40 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 8430)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 12090)
Completed 200 OK in 21ms (Views: 9.2ms | ActiveRecord: 6.4ms | Allocations: 18638)


Started GET "/cats/1" for ::1 at 2021-04-13 00:03:06 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 1719)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 5469)
Completed 200 OK in 33ms (Views: 22.8ms | ActiveRecord: 5.2ms | Allocations: 7218)


  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/cats/1" for ::1 at 2021-04-13 00:03:42 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1390)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 4966)
Completed 200 OK in 27ms (Views: 16.8ms | ActiveRecord: 4.9ms | Allocations: 6008)


Started GET "/cats/1" for ::1 at 2021-04-13 00:03:44 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 4971)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 1.0ms | Allocations: 6014)


  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.3ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:04:14.496893"], ["id", 2]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2021-04-13 00:04:17 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 4963)
Completed 200 OK in 26ms (Views: 14.4ms | ActiveRecord: 4.6ms | Allocations: 6004)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:04:21 +0900

AbstractController::ActionNotFound - The action 'approve!' could not be found for CatRentalRequestsController
Did you mean?  create
               new:

Started POST "/__better_errors/7ad474d83e8f5e85/variables" for ::1 at 2021-04-13 00:04:21 +0900
Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:12:39 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
Completed 500 Internal Server Error in 2ms (Allocations: 2115)



NoMethodError - undefined method `[]' for nil:NilClass:
  app/controllers/cat_rental_requests_controller.rb:13:in `approve!'

Started POST "/__better_errors/b865f4328630eada/variables" for ::1 at 2021-04-13 00:12:39 +0900
Started POST "/__better_errors/b865f4328630eada/eval" for ::1 at 2021-04-13 00:12:48 +0900
Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:13:18 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE (2) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
Completed 500 Internal Server Error in 14ms (ActiveRecord: 5.6ms | Allocations: 6416)



ActiveRecord::StatementInvalid - PG::DatatypeMismatch: ERROR:  argument of WHERE must be type boolean, not type integer
LINE 1: ...tal_requests".* FROM "cat_rental_requests" WHERE (2) LIMIT $...
                                                             ^:
  app/controllers/cat_rental_requests_controller.rb:13:in `approve!'

Started POST "/__better_errors/4a6d60365e979abe/variables" for ::1 at 2021-04-13 00:13:19 +0900
Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:13:53 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:13:53.952888"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block (2 levels) in approve!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 38ms (ActiveRecord: 15.5ms | Allocations: 34272)


Started GET "/cats/1" for ::1 at 2021-04-13 00:13:53 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2829)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 6317)
Completed 200 OK in 7ms (Views: 4.8ms | ActiveRecord: 1.2ms | Allocations: 7571)


Started GET "/cats/1" for ::1 at 2021-04-13 00:14:01 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4963)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 1.1ms | Allocations: 6004)


  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.3ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:14:38.653387"], ["id", 2]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2021-04-13 00:14:40 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 8233)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 11721)
Completed 200 OK in 21ms (Views: 8.8ms | ActiveRecord: 6.2ms | Allocations: 17690)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:14:42 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (2.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.3ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:14:42.762367"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 10.9ms | Allocations: 6006)



RuntimeError - :
  app/models/cat_rental_request.rb:31:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/7c198012045c9c4f/variables" for ::1 at 2021-04-13 00:14:42 +0900
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 /* loading for inspect */ LIMIT $2[0m  [["status", "PENDING"], ["LIMIT", 11]]
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:14:48 +0900
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 /* loading for inspect */ LIMIT $2[0m  [["status", "PENDING"], ["LIMIT", 11]]
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:15:01 +0900
  [1m[36mCatRentalRequest Load (2.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:15:21 +0900
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (3.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Update (2.1ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:15:21.897553"], ["id", 3]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:16:10 +0900
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 /* loading for inspect */ LIMIT $2[0m  [["status", "PENDING"], ["LIMIT", 11]]
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:16:16 +0900
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 /* loading for inspect */ LIMIT $2[0m  [["status", "PENDING"], ["LIMIT", 11]]
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:16:18 +0900
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:16:54 +0900
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:17:47 +0900
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:17:52 +0900
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:18:09 +0900
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:18:09.189120"], ["id", 4]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
Started POST "/__better_errors/7c198012045c9c4f/eval" for ::1 at 2021-04-13 00:18:16 +0900
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:18:55 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:18:55.311899"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.4ms | Allocations: 5681)



RuntimeError - :
  app/models/cat_rental_request.rb:31:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/d830853cd9e0160c/variables" for ::1 at 2021-04-13 00:18:55 +0900
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 /* loading for inspect */ LIMIT $2[0m  [["status", "PENDING"], ["LIMIT", 11]]
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/cats/1" for ::1 at 2021-04-13 00:19:03 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 4976)
Completed 200 OK in 24ms (Views: 14.2ms | ActiveRecord: 4.8ms | Allocations: 6017)


Started GET "/cats/1" for ::1 at 2021-04-13 00:19:31 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1724)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 5477)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 1.1ms | Allocations: 7229)


Started GET "/cats/1" for ::1 at 2021-04-13 00:19:47 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1390)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 4966)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.0ms | Allocations: 6009)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:19:51 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:19:51.308144"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 3.8ms | Allocations: 5676)



RuntimeError - :
  app/models/cat_rental_request.rb:31:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/29ae06bb27e404e8/variables" for ::1 at 2021-04-13 00:19:51 +0900
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 /* loading for inspect */ LIMIT $2[0m  [["status", "PENDING"], ["LIMIT", 11]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/__better_errors/29ae06bb27e404e8/eval" for ::1 at 2021-04-13 00:19:54 +0900
Started GET "/cats/1" for ::1 at 2021-04-13 00:20:02 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 4971)
Completed 200 OK in 25ms (Views: 14.8ms | ActiveRecord: 4.9ms | Allocations: 6010)


Started GET "/cats/1" for ::1 at 2021-04-13 00:20:04 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 4963)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 1.0ms | Allocations: 6003)


Started GET "/cats/1" for ::1 at 2021-04-13 00:20:17 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 9.4ms | Allocations: 8233)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 11721)
Completed 200 OK in 21ms (Views: 9.3ms | ActiveRecord: 6.6ms | Allocations: 17711)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:20:18 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (2.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.4ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:20:18.459821"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:31:in `block (2 levels) in approve!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 45ms (ActiveRecord: 17.8ms | Allocations: 16520)


Started GET "/cats/1" for ::1 at 2021-04-13 00:20:18 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 4963)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 1.2ms | Allocations: 6005)


Started GET "/cats/1" for ::1 at 2021-04-13 00:20:20 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 4971)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.1ms | Allocations: 6013)


  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:21:43 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 500 Internal Server Error in 39ms (ActiveRecord: 10.4ms | Allocations: 19491)



RuntimeError - :
  app/models/cat_rental_request.rb:33:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:31:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/b00274922197d762/variables" for ::1 at 2021-04-13 00:21:43 +0900
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/__better_errors/b00274922197d762/eval" for ::1 at 2021-04-13 00:21:49 +0900
Started POST "/__better_errors/b00274922197d762/eval" for ::1 at 2021-04-13 00:22:15 +0900
Started POST "/__better_errors/b00274922197d762/eval" for ::1 at 2021-04-13 00:22:16 +0900
Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:23:36 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCACHE CatRentalRequest Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 422 Unprocessable Entity in 29ms (ActiveRecord: 8.3ms | Allocations: 23916)



ActiveRecord::RecordInvalid - Validation failed: Id Cannot rent during the given dates:
  app/models/cat_rental_request.rb:33:in `block (2 levels) in approve!'
  app/models/cat_rental_request.rb:31:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/dcf65e0ca796a6cd/variables" for ::1 at 2021-04-13 00:23:36 +0900
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:24:47 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCACHE Cat Load (0.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:24:47.828183"], ["id", 5]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:24:47.832908"], ["id", 6]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:24:47.837922"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 37ms (ActiveRecord: 16.1ms | Allocations: 25450)


Started GET "/cats/1" for ::1 at 2021-04-13 00:24:47 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 2824)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 6312)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.0ms | Allocations: 7567)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:24:59 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"3"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 422 Unprocessable Entity in 13ms (ActiveRecord: 5.2ms | Allocations: 5150)



ActiveRecord::RecordInvalid - Validation failed: Id Cannot rent during the given dates:
  app/models/cat_rental_request.rb:29:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/e85b010f7e7a71c1/variables" for ::1 at 2021-04-13 00:24:59 +0900
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/cats/1" for ::1 at 2021-04-13 00:25:07 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (3.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.9ms | Allocations: 1387)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 4971)
Completed 200 OK in 24ms (Views: 13.8ms | ActiveRecord: 5.0ms | Allocations: 6010)


Started GET "/cats/1" for ::1 at 2021-04-13 00:25:55 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2027)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 5777)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 1.0ms | Allocations: 7528)


Started GET "/cats/1" for ::1 at 2021-04-13 00:26:05 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 2017)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 5767)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 1.0ms | Allocations: 7515)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:26:06 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 8ms (ActiveRecord: 3.4ms | Allocations: 4664)


Started GET "/cats/1" for ::1 at 2021-04-13 00:26:06 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1661)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 5237)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 1.0ms | Allocations: 6279)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:26:07 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 28ms (ActiveRecord: 12.3ms | Allocations: 4666)


Started GET "/cats/1" for ::1 at 2021-04-13 00:26:07 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 5233)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 1.5ms | Allocations: 6275)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:26:07 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (1.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 24ms (ActiveRecord: 10.7ms | Allocations: 4663)


Started GET "/cats/1" for ::1 at 2021-04-13 00:26:07 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 5241)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 1.6ms | Allocations: 6282)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:26:08 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 8ms (ActiveRecord: 3.5ms | Allocations: 4663)


Started GET "/cats/1" for ::1 at 2021-04-13 00:26:08 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 5241)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.0ms | Allocations: 6283)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:26:09 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 8ms (ActiveRecord: 3.0ms | Allocations: 4665)


Started GET "/cats/1" for ::1 at 2021-04-13 00:26:09 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 5241)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.9ms | Allocations: 6282)


  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:27:08 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 21ms (ActiveRecord: 8.5ms | Allocations: 14997)


Started GET "/cats/1" for ::1 at 2021-04-13 00:27:09 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3098)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 6578)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 1.0ms | Allocations: 7832)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:27:10 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 8ms (ActiveRecord: 3.3ms | Allocations: 4664)


Started GET "/cats/1" for ::1 at 2021-04-13 00:27:10 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 5233)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.0ms | Allocations: 6275)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:29:54 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 21ms (ActiveRecord: 8.2ms | Allocations: 14976)


Started GET "/cats/1" for ::1 at 2021-04-13 00:29:55 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3097)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 6585)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 1.1ms | Allocations: 7839)


  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:31:52.012915"], ["id", 2]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:31:52.016102"], ["id", 5]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:31:52.019166"], ["id", 6]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:31:52.021874"], ["id", 7]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2021-04-13 00:31:55 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 5233)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.0ms | Allocations: 6274)


Started GET "/cats/1" for ::1 at 2021-04-13 00:32:02 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 5233)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.1ms | Allocations: 6274)


Started GET "/cats/1" for ::1 at 2021-04-13 00:32:22 +0900
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 11.0ms | Allocations: 11293)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 16475)
Completed 200 OK in 31ms (Views: 14.3ms | ActiveRecord: 7.0ms | Allocations: 26092)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:32:28 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:32:28.255496"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:32:28.262135"], ["id", 5]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:32:28.270138"], ["id", 6]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:32:28.278241"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 34ms (ActiveRecord: 16.1ms | Allocations: 16680)


Started GET "/cats/1" for ::1 at 2021-04-13 00:32:28 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1661)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 5239)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 1.0ms | Allocations: 6281)


Started GET "/cats" for ::1 at 2021-04-13 00:32:35 +0900
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1130)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 4710)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms | Allocations: 5184)


Started GET "/cats/1" for ::1 at 2021-04-13 00:32:37 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (4.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 13.3ms | Allocations: 2184)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 21.5ms | Allocations: 5898)
Completed 200 OK in 30ms (Views: 18.2ms | ActiveRecord: 6.3ms | Allocations: 6943)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:32:41 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"3"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 422 Unprocessable Entity in 10ms (ActiveRecord: 2.9ms | Allocations: 8686)



ActiveRecord::RecordInvalid - Validation failed: Id Cannot rent during the given dates:
  app/models/cat_rental_request.rb:29:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/458df18d83bb3084/variables" for ::1 at 2021-04-13 00:32:41 +0900
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/cats/1" for ::1 at 2021-04-13 00:32:45 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (1.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 10.7ms | Allocations: 1660)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 5250)
Completed 200 OK in 27ms (Views: 17.5ms | ActiveRecord: 4.6ms | Allocations: 6310)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:32:48 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 8ms (ActiveRecord: 3.3ms | Allocations: 4664)


Started GET "/cats/1" for ::1 at 2021-04-13 00:32:48 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 5233)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 1.1ms | Allocations: 6274)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:32:49 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (2.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 31ms (ActiveRecord: 13.5ms | Allocations: 4688)


Started GET "/cats/1" for ::1 at 2021-04-13 00:32:49 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 5235)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 1.5ms | Allocations: 6276)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:32:49 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (2.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (4.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 34ms (ActiveRecord: 16.4ms | Allocations: 4689)


Started GET "/cats/1" for ::1 at 2021-04-13 00:32:49 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 5233)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 1.8ms | Allocations: 6274)


Started GET "/cats/1" for ::1 at 2021-04-13 00:35:20 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 8156)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 11646)
Completed 200 OK in 28ms (Views: 9.4ms | ActiveRecord: 7.1ms | Allocations: 17674)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:35:25 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}}
[31mUnpermitted parameter: :id[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 363)


Started GET "/cats/1" for ::1 at 2021-04-13 00:35:36 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 4993)
Completed 200 OK in 25ms (Views: 15.7ms | ActiveRecord: 4.5ms | Allocations: 6034)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:35:37 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}}
[31mUnpermitted parameter: :id[0m
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 336)


Started GET "/cats/1" for ::1 at 2021-04-13 00:35:44 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 4993)
Completed 200 OK in 15ms (Views: 9.5ms | ActiveRecord: 2.4ms | Allocations: 6035)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:35:46 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"3"}}
[31mUnpermitted parameter: :id[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 336)


Started GET "/cats/1" for ::1 at 2021-04-13 00:35:49 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 5001)
Completed 200 OK in 17ms (Views: 12.2ms | ActiveRecord: 2.3ms | Allocations: 6042)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:36:01 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}}
[31mUnpermitted parameter: :id[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 337)


Started GET "/cats/1" for ::1 at 2021-04-13 00:36:13 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4997)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.1ms | Allocations: 6038)


Started GET "/cats/1" for ::1 at 2021-04-13 00:36:58 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 14.3ms | Allocations: 8390)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 11878)
Completed 200 OK in 28ms (Views: 14.1ms | ActiveRecord: 7.4ms | Allocations: 17828)


  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" ORDER BY "cat_rental_requests"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:38:46.080149"], ["id", 2]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:38:46.082741"], ["id", 5]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.1ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:38:46.085273"], ["id", 6]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.1ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:38:46.087727"], ["id", 7]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2021-04-13 00:38:48 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 5233)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.8ms | Allocations: 6276)


  [1m[36mCatRentalRequest Load (0.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mCatRentalRequest Load (0.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:39:31.874797"], ["id", 3]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2021-04-13 00:39:35 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 5233)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 1.0ms | Allocations: 6274)


  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:39:41.902926"], ["id", 4]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2021-04-13 00:39:44 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 5233)
Completed 200 OK in 26ms (Views: 16.8ms | ActiveRecord: 4.6ms | Allocations: 6275)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:39:58 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (1.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.0ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:39:58.193675"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:39:58.201705"], ["id", 3]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:39:58.208488"], ["id", 4]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:39:58.214827"], ["id", 5]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:39:58.219874"], ["id", 6]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:39:58.224390"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 49ms (ActiveRecord: 21.6ms | Allocations: 23504)


Started GET "/cats/1" for ::1 at 2021-04-13 00:39:58 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 5237)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.9ms | Allocations: 6278)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:40:00 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (2.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 34ms (ActiveRecord: 14.9ms | Allocations: 4666)


Started GET "/cats/1" for ::1 at 2021-04-13 00:40:00 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 5241)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 2.1ms | Allocations: 6283)


Started POST "/cat_rental_requests/1" for ::1 at 2021-04-13 00:40:01 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"3"}, "id"=>"1"}
  [1m[36mCatRentalRequest Load (1.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 422 Unprocessable Entity in 30ms (ActiveRecord: 12.1ms | Allocations: 5157)



ActiveRecord::RecordInvalid - Validation failed: Id Cannot rent during the given dates:
  app/models/cat_rental_request.rb:29:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/c5ca2ed6a93924bd/variables" for ::1 at 2021-04-13 00:40:02 +0900
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/cats/1" for ::1 at 2021-04-13 00:40:04 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 5241)
Completed 200 OK in 23ms (Views: 13.1ms | ActiveRecord: 4.7ms | Allocations: 6280)


Started GET "/cats/1" for ::1 at 2021-04-13 00:40:52 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 8156)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 11643)
Completed 200 OK in 21ms (Views: 8.4ms | ActiveRecord: 6.7ms | Allocations: 17634)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:41:00 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:19:in `deny!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:41:00.023699"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 8ms (ActiveRecord: 3.6ms | Allocations: 5060)


Started GET "/cats/1" for ::1 at 2021-04-13 00:41:00 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4993)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.0ms | Allocations: 6034)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:41:08 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}}
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:41:08.977384"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 11ms (ActiveRecord: 5.3ms | Allocations: 5391)


Started GET "/cats/1" for ::1 at 2021-04-13 00:41:08 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 5001)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 1.0ms | Allocations: 6042)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:41:09 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"3"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 422 Unprocessable Entity in 24ms (ActiveRecord: 10.1ms | Allocations: 5154)



ActiveRecord::RecordInvalid - Validation failed: Id Cannot rent during the given dates:
  app/models/cat_rental_request.rb:29:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:14:in `approve!'

Started POST "/__better_errors/6a193aec42d9943d/variables" for ::1 at 2021-04-13 00:41:09 +0900
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/cats/1" for ::1 at 2021-04-13 00:41:11 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (3.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5001)
Completed 200 OK in 21ms (Views: 10.0ms | ActiveRecord: 5.0ms | Allocations: 6040)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:41:12 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"2"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:19:in `deny!'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.0ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:41:12.134957"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 23ms (ActiveRecord: 9.8ms | Allocations: 4689)


Started GET "/cats/1" for ::1 at 2021-04-13 00:41:12 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 4993)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 1.3ms | Allocations: 6033)


  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:41:21.213438"], ["id", 3]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:41:21.219379"], ["id", 4]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.1ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:41:21.221911"], ["id", 5]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:41:21.224302"], ["id", 6]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:41:21.227157"], ["id", 7]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  [1m[36mCat Load (0.2ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCatRentalRequest Update (0.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "PENDING"], ["updated_at", "2021-04-12 15:41:21.229903"], ["id", 2]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/1" for ::1 at 2021-04-13 00:41:24 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 4997)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.1ms | Allocations: 6039)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:41:26 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"7"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:13:in `approve!'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:41:26.048705"], ["id", 7]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 7 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:41:26.062591"], ["id", 2]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 2 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-20') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:41:26.069973"], ["id", 3]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 3 and cat_id = 1 and start_date <= '2020-05-22' and end_date >= '2020-05-21') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:41:26.076250"], ["id", 4]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 4 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:41:26.081665"], ["id", 5]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 5 and cat_id = 1 and start_date <= '2020-05-25' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:41:26.086566"], ["id", 6]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 6 and cat_id = 1 and start_date <= '2020-05-30' and end_date >= '2020-05-22') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/1
Completed 302 Found in 65ms (ActiveRecord: 27.5ms | Allocations: 23134)


Started GET "/cats/1" for ::1 at 2021-04-13 00:41:26 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 5001)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.0ms | Allocations: 6042)


Started GET "/cats/1" for ::1 at 2021-04-13 00:41:38 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (3.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 1]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1417)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 4993)
Completed 200 OK in 25ms (Views: 14.8ms | ActiveRecord: 5.1ms | Allocations: 6034)


Started GET "/cats/" for ::1 at 2021-04-13 00:41:42 +0900
Processing by CatsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cats/index.html.erb:13
  Rendered cats/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 964)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 4541)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.6ms | Allocations: 4890)


Started GET "/cats/2" for ::1 at 2021-04-13 00:41:44 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (4.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 1490)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 5186)
Completed 200 OK in 31ms (Views: 19.4ms | ActiveRecord: 6.8ms | Allocations: 6230)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-13 00:42:06 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1138)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 4718)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.6ms | Allocations: 5564)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:42:15 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2021-04-13", "end_date"=>"2021-04-20"}}
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 370)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-13 00:42:16 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 4532)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 1.0ms | Allocations: 4884)


Started GET "/cats/2" for ::1 at 2021-04-13 00:42:17 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (2.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (3.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 927)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 4510)
Completed 200 OK in 26ms (Views: 14.4ms | ActiveRecord: 5.9ms | Allocations: 5553)


Started GET "/cats/2" for ::1 at 2021-04-13 00:42:19 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 927)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 4508)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.1ms | Allocations: 5550)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-13 00:42:21 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 4525)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 1.0ms | Allocations: 4877)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:42:25 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2021-04-13", "end_date"=>"2021-04-20"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-13 00:43:23 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 7.6ms | Allocations: 5288)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 8835)
Completed 200 OK in 18ms (Views: 7.8ms | ActiveRecord: 5.7ms | Allocations: 13364)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:43:24 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2021-04-13", "end_date"=>"2021-04-20"}}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mCatRentalRequest Create (7.0ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2021-04-13"], ["end_date", "2021-04-20"], ["created_at", "2021-04-12 15:43:24.833215"], ["updated_at", "2021-04-12 15:43:24.833215"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 9.8ms | Allocations: 7190)



ActionView::MissingTemplate - Missing template cat_rental_requests/show, application/show with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/lim/Documents/appacademy/rails/views/99cats/cats99/app/views"
  * "/home/lim/.rbenv/versions/2.7.2/lib/ruby/gems/2.7.0/gems/actiontext-6.1.3.1/app/views"
  * "/home/lim/.rbenv/versions/2.7.2/lib/ruby/gems/2.7.0/gems/actionmailbox-6.1.3.1/app/views":
  app/controllers/cat_rental_requests_controller.rb:10:in `create'

Started POST "/__better_errors/9aa7d96e60a51521/variables" for ::1 at 2021-04-13 00:43:24 +0900
Started POST "/__better_errors/9aa7d96e60a51521/eval" for ::1 at 2021-04-13 00:43:56 +0900
Started POST "/__better_errors/9aa7d96e60a51521/eval" for ::1 at 2021-04-13 00:44:23 +0900
Started POST "/__better_errors/9aa7d96e60a51521/eval" for ::1 at 2021-04-13 00:44:41 +0900
Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:44:54 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2021-04-13", "end_date"=>"2021-04-20"}}
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mCatRentalRequest Create (0.5ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2021-04-13"], ["end_date", "2021-04-20"], ["created_at", "2021-04-12 15:44:55.018529"], ["updated_at", "2021-04-12 15:44:55.018529"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 20ms (ActiveRecord: 8.1ms | Allocations: 13753)


Started GET "/cats/2" for ::1 at 2021-04-13 00:44:55 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2549)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 6037)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.0ms | Allocations: 7292)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-13 00:45:08 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 953)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4533)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.6ms | Allocations: 5000)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:45:16 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2021-04-23", "end_date"=>"2021-04-30"}}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mCatRentalRequest Create (0.6ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2021-04-23"], ["end_date", "2021-04-30"], ["created_at", "2021-04-12 15:45:16.378574"], ["updated_at", "2021-04-12 15:45:16.378574"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 7ms (ActiveRecord: 2.9ms | Allocations: 3638)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:16 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 4760)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 1.1ms | Allocations: 5802)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:45:18 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:45:18.977084"], ["id", 8]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:45:18.981833"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 15ms (ActiveRecord: 6.6ms | Allocations: 9060)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:18 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 4752)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.9ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:45:22 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:45:22.770907"], ["id", 8]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 8ms (ActiveRecord: 3.5ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:22 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 4752)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.0ms | Allocations: 5793)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:45:24 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:45:24.124067"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 20ms (ActiveRecord: 8.1ms | Allocations: 5391)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:24 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 4760)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 2.0ms | Allocations: 5801)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:45:25 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:45:25.583358"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 8ms (ActiveRecord: 3.8ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:25 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 4760)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 1.0ms | Allocations: 5802)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:45:26 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (2.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:45:26.181618"], ["id", 8]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 34ms (ActiveRecord: 15.1ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:26 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 4752)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 1.5ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:45:27 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:45:27.369148"], ["id", 8]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 8ms (ActiveRecord: 3.6ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:27 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 4760)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 1.5ms | Allocations: 5802)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:45:28 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (1.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (2.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:45:28.406814"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 35ms (ActiveRecord: 16.2ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:28 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 4752)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 1.5ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:45:29 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (1.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.4ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:45:29.805045"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 28ms (ActiveRecord: 12.9ms | Allocations: 4691)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:29 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 4752)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 2.3ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:45:30 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 22ms (ActiveRecord: 9.3ms | Allocations: 3945)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:30 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 4760)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 1.4ms | Allocations: 5801)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:45:31 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:45:31.641849"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 35ms (ActiveRecord: 16.0ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:31 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 4760)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 1.8ms | Allocations: 5802)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:45:32 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:45:32.667499"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 8ms (ActiveRecord: 3.8ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:32 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 4752)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 1.0ms | Allocations: 5793)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:45:33 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:45:33.549849"], ["id", 8]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 35ms (ActiveRecord: 16.1ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:33 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 4760)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 1.5ms | Allocations: 5802)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:45:34 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:45:34.664891"], ["id", 8]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 32ms (ActiveRecord: 13.7ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:34 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 4752)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 1.6ms | Allocations: 5793)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:45:58 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:45:58.580893"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 9ms (ActiveRecord: 4.3ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:45:58 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 4760)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.9ms | Allocations: 5802)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:46:00 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Completed 422 Unprocessable Entity in 7ms (ActiveRecord: 2.9ms | Allocations: 5154)



ActiveRecord::RecordInvalid - Validation failed: Id Cannot rent during the given dates:
  app/models/cat_rental_request.rb:29:in `block in approve!'
  app/models/cat_rental_request.rb:27:in `approve!'
  app/controllers/cat_rental_requests_controller.rb:15:in `approve!'

Started POST "/__better_errors/dfb80ee8e7aeda63/variables" for ::1 at 2021-04-13 00:46:00 +0900
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 /* loading for inspect */ LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/cats/2" for ::1 at 2021-04-13 00:46:03 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (2.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 4760)
Completed 200 OK in 26ms (Views: 16.2ms | ActiveRecord: 4.5ms | Allocations: 5799)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:46:05 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"10"}}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 10 and cat_id = 2 and start_date <= '2021-04-30' and end_date >= '2021-04-23') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:46:05.234650"], ["id", 10]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 10 and cat_id = 2 and start_date <= '2021-04-30' and end_date >= '2021-04-23') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 11ms (ActiveRecord: 5.0ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:05 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 4760)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.1ms | Allocations: 5802)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:46:06 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"10"}}
  [1m[36mCatRentalRequest Load (2.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 10 and cat_id = 2 and start_date <= '2021-04-30' and end_date >= '2021-04-23') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.7ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:46:06.330608"], ["id", 10]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 32ms (ActiveRecord: 13.9ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:06 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 4752)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 1.6ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:46:07 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (1.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.4ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:46:07.160730"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 23ms (ActiveRecord: 8.6ms | Allocations: 4690)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:07 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 4760)
Completed 200 OK in 16ms (Views: 10.2ms | ActiveRecord: 3.2ms | Allocations: 5802)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:10 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 4752)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 1.1ms | Allocations: 5793)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:46:45 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:46:45.948995"], ["id", 8]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 9ms (ActiveRecord: 4.3ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:45 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 4752)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 1.1ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:46:48 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"8"}}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 8 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (0.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:46:48.721916"], ["id", 8]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 9ms (ActiveRecord: 4.0ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:48 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4760)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.0ms | Allocations: 5801)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:46:50 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:46:50.258339"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 34ms (ActiveRecord: 15.6ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:50 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.9ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 4752)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 1.8ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:46:51 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.8ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.3ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:46:51.103661"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 27ms (ActiveRecord: 13.0ms | Allocations: 4690)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:51 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 4760)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 1.4ms | Allocations: 5801)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:46:51 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (4.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.3ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:46:51.771106"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 31ms (ActiveRecord: 14.1ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:51 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 4760)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 1.3ms | Allocations: 5801)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:46:52 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.8ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:46:52.648430"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 35ms (ActiveRecord: 15.6ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:46:52 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 4752)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 1.6ms | Allocations: 5793)


  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCatRentalRequest Destroy (0.2ms)[0m  [1m[31mDELETE FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1[0m  [["id", 8]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cats/2" for ::1 at 2021-04-13 00:47:11 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1096)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 4680)
Completed 200 OK in 7ms (Views: 4.2ms | ActiveRecord: 1.3ms | Allocations: 5722)


Started GET "/cat_rental_requests/new" for ::1 at 2021-04-13 00:47:22 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 949)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 4525)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.5ms | Allocations: 4877)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:47:27 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"start_date"=>"2021-04-14", "end_date"=>"2021-04-17"}}
Completed 422 Unprocessable Entity in 2ms (ActiveRecord: 0.0ms | Allocations: 2407)



ActiveRecord::RecordInvalid - Validation failed: Cat can't be blank, Cat must exist:
  app/controllers/cat_rental_requests_controller.rb:9:in `create'

Started POST "/__better_errors/3448a2c1848da5f7/variables" for ::1 at 2021-04-13 00:47:27 +0900
Started GET "/cat_rental_requests/new" for ::1 at 2021-04-13 00:47:35 +0900
Processing by CatRentalRequestsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering cat_rental_requests/new.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  â†³ app/views/cat_rental_requests/new.html.erb:8
  Rendered cat_rental_requests/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 951)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 4535)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.6ms | Allocations: 4886)


Started POST "/cat_rental_requests" for ::1 at 2021-04-13 00:47:38 +0900
Processing by CatRentalRequestsController#create as HTML
  Parameters: {"cat_rental_request"=>{"cat_id"=>"2", "start_date"=>"2021-04-14", "end_date"=>"2021-04-17"}}
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mCat Load (2.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mCatRentalRequest Create (2.2ms)[0m  [1m[32mINSERT INTO "cat_rental_requests" ("cat_id", "start_date", "end_date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["cat_id", 2], ["start_date", "2021-04-14"], ["end_date", "2021-04-17"], ["created_at", "2021-04-12 15:47:38.668838"], ["updated_at", "2021-04-12 15:47:38.668838"]]
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/cat_rental_requests_controller.rb:9:in `create'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 24ms (ActiveRecord: 9.3ms | Allocations: 3634)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:38 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (1.0ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (1.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 4760)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 2.1ms | Allocations: 5800)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:47:43 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:47:43.783366"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 11 and cat_id = 2 and start_date <= '2021-04-17' and end_date >= '2021-04-14') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:47:43.787949"], ["id", 11]]
  â†³ app/models/cat_rental_request.rb:32:in `block (2 levels) in approve!'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 11 and cat_id = 2 and start_date <= '2021-04-17' and end_date >= '2021-04-14') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 15ms (ActiveRecord: 6.4ms | Allocations: 8939)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:43 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.5ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 4752)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.9ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:47:46 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.9ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:47:46.065645"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 33ms (ActiveRecord: 14.5ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:46 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (1.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (2.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 4752)
Completed 200 OK in 20ms (Views: 13.2ms | ActiveRecord: 3.6ms | Allocations: 5793)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:47:47 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"11"}}
  [1m[36mCatRentalRequest Load (2.2ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 11 and cat_id = 2 and start_date <= '2021-04-17' and end_date >= '2021-04-14') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.3ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.1ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:47:47.107875"], ["id", 11]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 11 and cat_id = 2 and start_date <= '2021-04-17' and end_date >= '2021-04-14') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 24ms (ActiveRecord: 11.5ms | Allocations: 5390)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:47 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 4752)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.3ms | Allocations: 5794)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:47:48 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"11"}}
  [1m[36mCatRentalRequest Load (2.1ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 11 and cat_id = 2 and start_date <= '2021-04-17' and end_date >= '2021-04-14') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:47:48.629670"], ["id", 11]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 30ms (ActiveRecord: 13.1ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:48 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.8ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 4752)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 1.5ms | Allocations: 5793)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:47:49 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (1.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.4ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:47:49.375943"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (1.3ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 30ms (ActiveRecord: 12.9ms | Allocations: 5389)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:49 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 4752)
Completed 200 OK in 8ms (Views: 5.2ms | ActiveRecord: 1.3ms | Allocations: 5793)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:47:51 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"9"}}
  [1m[36mCatRentalRequest Load (0.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 9 and cat_id = 2 and start_date <= '2021-04-20' and end_date >= '2021-04-13') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (0.5ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:47:51.909503"], ["id", 9]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 8ms (ActiveRecord: 3.8ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:51 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.6ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 4760)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.1ms | Allocations: 5801)


Started POST "/cat_rental_requests/approve" for ::1 at 2021-04-13 00:47:53 +0900
Processing by CatRentalRequestsController#approve! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"10"}}
  [1m[36mCatRentalRequest Load (2.4ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:14:in `approve!'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 10 and cat_id = 2 and start_date <= '2021-04-30' and end_date >= '2021-04-23') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (1.1ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Update (1.2ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "APPROVED"], ["updated_at", "2021-04-12 15:47:53.133510"], ["id", 10]]
  â†³ app/models/cat_rental_request.rb:29:in `block in approve!'
  [1m[36mCatRentalRequest Load (0.9ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE ( id != 10 and cat_id = 2 and start_date <= '2021-04-30' and end_date >= '2021-04-23') AND "cat_rental_requests"."status" = $1[0m  [["status", "PENDING"]]
  â†³ app/models/cat_rental_request.rb:31:in `block in approve!'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:27:in `approve!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 24ms (ActiveRecord: 10.5ms | Allocations: 5390)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:53 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 4760)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 1.2ms | Allocations: 5801)


Started POST "/cat_rental_requests/deny" for ::1 at 2021-04-13 00:47:53 +0900
Processing by CatRentalRequestsController#deny! as HTML
  Parameters: {"cat_rental_request"=>{"id"=>"10"}}
  [1m[36mCatRentalRequest Load (2.0ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/cat_rental_requests_controller.rb:20:in `deny!'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCatRentalRequest Exists? (3.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cat_rental_requests" WHERE ( id != 10 and cat_id = 2 and start_date <= '2021-04-30' and end_date >= '2021-04-23') AND "cat_rental_requests"."status" = $1 LIMIT $2[0m  [["status", "APPROVED"], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:21:in `does_not_overlap_approved_request'
  [1m[36mCat Load (2.5ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mCatRentalRequest Update (1.6ms)[0m  [1m[33mUPDATE "cat_rental_requests" SET "status" = $1, "updated_at" = $2 WHERE "cat_rental_requests"."id" = $3[0m  [["status", "DENIED"], ["updated_at", "2021-04-12 15:47:53.884220"], ["id", 10]]
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/cat_rental_request.rb:40:in `deny!'
Redirected to http://localhost:3000/cats/2
Completed 302 Found in 30ms (ActiveRecord: 13.4ms | Allocations: 4689)


Started GET "/cats/2" for ::1 at 2021-04-13 00:47:53 +0900
Processing by CatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCat Load (0.7ms)[0m  [1m[34mSELECT "cats".* FROM "cats" WHERE "cats"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/cats_controller.rb:8:in `show'
  Rendering layout layouts/application.html.erb
  Rendering cats/show.html.erb within layouts/application
  [1m[36mCatRentalRequest Load (0.7ms)[0m  [1m[34mSELECT "cat_rental_requests".* FROM "cat_rental_requests" WHERE "cat_rental_requests"."cat_id" = $1 ORDER BY "cat_rental_requests"."start_date" ASC[0m  [["cat_id", 2]]
  â†³ app/views/cats/show.html.erb:27
  Rendered cats/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 4760)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.5ms | Allocations: 5801)


